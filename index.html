<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Sweet Crush">
    <meta name="theme-color" content="#FF6B9D">
    <meta name="description" content="Sweet Crush - Un jeu puzzle match-3 familial et addictif !">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="icons/icon-167.png">
    
    <!-- Splash Screens iOS -->
    <link rel="apple-touch-startup-image" href="splash/splash-1125x2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="splash/splash-1242x2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16.png">
    
    <title>üç¨ Sweet Crush</title>
    
    <!-- Preload fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading" class="screen active">
        <div class="loading-content">
            <div class="logo-container">
                <span class="logo-emoji">üç¨</span>
                <h1 class="logo-text">Sweet Crush</h1>
            </div>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <p class="loading-text">Chargement des bonbons...</p>
        </div>
    </div>

    <!-- Profile Selection Screen -->
    <div id="profile-select" class="screen">
        <div class="screen-content">
            <div class="header-decoration">
                <span>üç≠</span><span>üç¨</span><span>üç´</span><span>üç©</span><span>üßÅ</span>
            </div>
            <h1 class="screen-title">üç¨ Sweet Crush</h1>
            <h2 class="screen-subtitle">Qui joue ?</h2>
            <div id="profile-list" class="profile-list">
                <!-- Profiles will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Create Profile Screen -->
    <div id="create-profile" class="screen">
        <div class="screen-content">
            <div class="screen-header">
                <button class="btn-icon btn-back" data-action="back">
                    <span>‚Üê</span>
                </button>
                <h2>Nouveau joueur</h2>
                <div class="spacer"></div>
            </div>
            
            <div class="create-profile-form">
                <div class="form-group">
                    <label for="profile-name-input">Comment tu t'appelles ?</label>
                    <input type="text" id="profile-name-input" placeholder="Ton pr√©nom" maxlength="20" autocomplete="off">
                </div>
                
                <div class="form-group">
                    <label>Choisis ton avatar</label>
                    <div id="avatar-grid" class="avatar-grid">
                        <!-- Avatars will be rendered here -->
                    </div>
                </div>
                
                <div class="form-group protection-group">
                    <label class="toggle-label">
                        <span>üîí Prot√©ger ce profil</span>
                        <input type="checkbox" id="protection-toggle" data-action="toggle-protection">
                        <span class="toggle-slider"></span>
                    </label>
                    <p class="hint-text">Un code PIN sera demand√© pour supprimer ou modifier ce profil</p>
                </div>
                
                <div id="pin-setup-section" class="pin-setup-section" style="display: none;">
                    <label>Cr√©e ton code PIN (4 chiffres)</label>
                    <div class="pin-setup-inputs">
                        <input type="tel" class="pin-setup-input" maxlength="1" pattern="[0-9]">
                        <input type="tel" class="pin-setup-input" maxlength="1" pattern="[0-9]">
                        <input type="tel" class="pin-setup-input" maxlength="1" pattern="[0-9]">
                        <input type="tel" class="pin-setup-input" maxlength="1" pattern="[0-9]">
                    </div>
                </div>
                
                <button class="btn-primary btn-large btn-create" data-action="confirm-create-profile">
                    ‚ú® Cr√©er mon profil
                </button>
            </div>
        </div>
    </div>

    <!-- Main Menu Screen -->
    <div id="main-menu" class="screen">
        <div class="screen-content">
            <div id="main-menu-content">
                <!-- Menu content will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Level Selection Screen -->
    <div id="level-select" class="screen">
        <div class="screen-content">
            <div class="screen-header">
                <button class="btn-icon btn-back" data-action="back">
                    <span>‚Üê</span>
                </button>
                <h2>üó∫Ô∏è Niveaux</h2>
                <div class="spacer"></div>
            </div>
            <div id="level-grid" class="level-grid">
                <!-- Levels will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game" class="screen">
        <div id="game-content" class="game-content">
            <!-- Game UI will be rendered here -->
        </div>
    </div>

    <!-- Leaderboard Screen -->
    <div id="leaderboard" class="screen">
        <div class="screen-content">
            <div id="leaderboard-content">
                <!-- Leaderboard will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Achievements Screen -->
    <div id="achievements" class="screen">
        <div class="screen-content">
            <div id="achievements-content">
                <!-- Achievements will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Settings Screen -->
    <div id="settings" class="screen">
        <div class="screen-content">
            <div id="settings-content">
                <!-- Settings will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Modal Overlay -->
    <div id="modal-overlay" class="modal-overlay">
        <!-- Modal content will be injected here -->
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Install PWA Button (hidden by default) -->
    <button id="install-btn" class="install-btn" style="display: none;">
        üì≤ Installer l'app
    </button>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>